{"code":"module.exports=function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=46)}([function(e,t){e.exports=require(\"react\")},function(e,t){e.exports=require(\"@babel/runtime/helpers/builtin/assertThisInitialized\")},function(e,t){e.exports=require(\"@babel/runtime/helpers/builtin/defineProperty\")},function(e,t){e.exports=require(\"react-redux\")},function(e,t){e.exports=require(\"@babel/runtime/helpers/builtin/inheritsLoose\")},function(e,t){e.exports=require(\"@babel/runtime/helpers/builtin/objectSpread\")},function(e,t){e.exports=require(\"react-router-dom\")},function(e,t){e.exports=require(\"react-aria-menubutton\")},function(e,t){e.exports=require(\"react-beautiful-dnd\")},function(e,t){e.exports=require(\"classnames\")},function(e,t){e.exports=require(\"react-textarea-autosize\")},function(e,t){e.exports=require(\"react-head\")},function(e,t){e.exports=require(\"@babel/runtime/helpers/builtin/objectWithoutProperties\")},function(e,t){e.exports=require(\"react-icons/lib/fa/trash\")},function(e,t){e.exports=require(\"@babel/runtime/helpers/builtin/extends\")},function(e,t){e.exports=require(\"shortid\")},function(e,t){e.exports=require(\"react-modal\")},function(e,t){e.exports=require(\"normalizr\")},function(e,t){e.exports=require(\"express\")},function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC+ElEQVR4nHWTS28bZRiFn/ebGc94fG9c4iR1giIgbRRISkGIFYvC/6BbFoifwbYrbhISEvwCEEICgdiAFHFtuSWq1CYmaR3HHt/t8cx8LwtEFxTO8ujRszpH+J8sxR9IqmlZrITWpENHvEnk33iEk38Xtbe7Rq7vF3X5/BlySQkQQTVHfPayfnFwPftqdqMYZY8IHntvhFVtIvYy6ye7BPNQw9k0ePL3ky3vdjPUaX6De51rfH8IejB2k9brwQTzj8CqXUX0afJxDT8uoCLO1C837nmvBNmiANBivR7jhyA7hdRrAH8LLrzbFYGnipEW6qfJpVLbLZhUTCnXq5A5uVm/UXGwbk3mK0WT2wuFhiCX35/UcAGaB8avttO9Ql8rWcEJZ+38auprNn9podTBj3ON553WCzlSf1NmvQBrp8rRWGXfeeNih8dvZXvTilxRgzGZSZPKomwUt9iTSrrZ1atLP29X8l1TY5ysy9kcIBBKVxwNXVFCUerlc+0Olmmsjofl+q2RDpaT8oPYt2EvaTQ3W/n10cC/trib4BEOi5yXXIYGdl1F8wKmcZyePrdobTtedgFgbbSYvHh8uLRS+Hxt3fxULjVnC0I8MiqlmMCpaxsXzxVkDJpt2dONS6e97tx3Jlk4qT3hfbpRSvpe/eSO8X6wau+olz0rM7PC3ChW+7KZ1PU7Y8XGDnp8kX4NIIjT+U72Wa2SDBK/NA49FmOi0LqZZP6PeGaBAkhCSMrX5mZnmVf58nCNXtug1jOTnO9EgSdxXMu3I0FV+k6bhBkpIh1cwErCUXAsn7gAdRNlxsovl4g6mYxqVffPmkOaMpAZy6yIH88k0ggHz/Q416q0Ue6iTA1A4+w1HGt/dcniwHo9ozIHYOT0GXJfSqMYgIxEq3KOMk7VfhTuDPThlPPT8RjhG1Wvk8y2/0CyVJzhwD25/7H8xj5DIi1wZKv6bYq+2Uni1n++8aj6DvXmh46Xu72F6lUgAFJED8W3+w/eSrLmbvyQ/wsKQXDvmczNFQAAAABJRU5ErkJggg==\"},function(e,t){e.exports=require(\"react-icons/lib/md/access-alarm\")},function(e,t){e.exports=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='390.4' height='390.4' viewBox='0 0 366 366'%3E%3Cdefs%3E%3ClinearGradient id='d'%3E%3Cstop offset='0' stop-color='%23d61175'/%3E%3Cstop offset='1' stop-color='%23ff2a8e'/%3E%3C/linearGradient%3E%3ClinearGradient id='c'%3E%3Cstop offset='0' stop-color='%23cdbd2d'/%3E%3Cstop offset='1' stop-color='%23fff05e'/%3E%3C/linearGradient%3E%3ClinearGradient id='b'%3E%3Cstop offset='0' stop-color='maroon'/%3E%3Cstop offset='1' stop-color='%23ff8d68'/%3E%3C/linearGradient%3E%3ClinearGradient id='a'%3E%3Cstop offset='0'/%3E%3Cstop offset='1' stop-color='%23565656'/%3E%3C/linearGradient%3E%3ClinearGradient xlink:href='%23a' id='e' x1='91.5' y1='511.362' x2='333.5' y2='122.362' gradientUnits='userSpaceOnUse'/%3E%3ClinearGradient xlink:href='%23b' id='f' x1='243' y1='370.362' x2='420' y2='122.362' gradientUnits='userSpaceOnUse'/%3E%3ClinearGradient xlink:href='%23c' id='g' x1='444.545' y1='773.264' x2='598.787' y2='721.509' gradientUnits='userSpaceOnUse' gradientTransform='matrix(.94595 0 0 1.05634 -196.297 -56.936)'/%3E%3ClinearGradient xlink:href='%23d' id='h' x1='620' y1='736.862' x2='762' y2='666.862' gradientUnits='userSpaceOnUse' gradientTransform='matrix(.94595 0 0 1.06699 -508.649 -58.015)'/%3E%3C/defs%3E%3Cg transform='translate(-158 -543.362)'%3E%3Cpath d='M24 116.362h400v400H24z' fill='url(%23e)' fill-rule='evenodd' stroke='%23000'/%3E%3Cpath opacity='.998' fill='%23565656' d='M549 304.362h25v43h-25z'/%3E%3Cpath d='M62 187.628h148v239.469H62z' opacity='.998' fill='%2300b7af'/%3E%3Cpath d='M238 187.628h148v185.469H238z' opacity='.998' fill='url(%23f)'/%3E%3Cpath d='M627 196.362a60 60 0 0 1-60 60 60 60 0 0 1-60-60 60 60 0 0 1 60-60 60 60 0 0 1 60 60zM627 316.362a60 60 0 0 1-60 60 60 60 0 0 1-60-60 60 60 0 0 1 60-60 60 60 0 0 1 60 60z' opacity='.998' fill='%2300b7af'/%3E%3Crect width='206' height='146' x='494' y='600.362' rx='15' ry='15' opacity='.998' fill='none'/%3E%3Crect width='121' height='79' x='646' y='435.362' rx='14.5' ry='12' opacity='.998' fill='%2300b7af'/%3E%3Cg transform='translate(116 -3)'%3E%3Crect ry='50' rx='50' y='546.362' x='42' height='366' width='366' opacity='.998' fill='%23505050'/%3E%3Crect ry='31.69' rx='28.378' y='579.362' x='236' height='300' width='140' opacity='.998' fill='url(%23g)'/%3E%3Crect ry='32.01' rx='33.333' y='579.362' x='75' height='223' width='140' opacity='.998' fill='url(%23h)'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"},function(e,t){e.exports=require(\"react-icons/lib/fa/user-secret\")},function(e,t){e.exports=require(\"slugify\")},function(e,t){e.exports=require(\"react-router\")},function(e,t){e.exports=require(\"redux\")},function(e,t){e.exports=\"/static/images/postits-1920.c6070a.jpg\"},function(e,t){e.exports=require(\"react-dom/server\")},function(e,t){e.exports=require(\"fs\")},function(e,t){e.exports=require(\"passport\")},function(e,t){e.exports=\"/static/images/postits-1366.84482c.jpg\"},function(e,t){e.exports=\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 48 48'%3E%3Cdefs%3E%3Cpath id='a' d='M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z'/%3E%3C/defs%3E%3CclipPath id='b'%3E%3Cuse xlink:href='%23a' overflow='visible'/%3E%3C/clipPath%3E%3Cpath clip-path='url(%23b)' fill='%23FBBC05' d='M0 37V11l17 13z'/%3E%3Cpath clip-path='url(%23b)' fill='%23EA4335' d='M0 11l17 13 7-6.1L48 14V0H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%2334A853' d='M0 37l30-23 7.9 1L48 0v48H0z'/%3E%3Cpath clip-path='url(%23b)' fill='%234285F4' d='M48 48L17 24l-4-3 35-10z'/%3E%3C/svg%3E\"},function(e,t){e.exports=require(\"react-icons/lib/fa/twitter\")},function(e,t){e.exports=require(\"react-icons/lib/fa/check\")},function(e,t){e.exports=require(\"marked\")},function(e,t){e.exports=require(\"react-day-picker\")},function(e,t){e.exports=require(\"react-icons/lib/fa/check-square-o\")},function(e,t){e.exports=require(\"date-fns/difference_in_calendar_days\")},function(e,t){e.exports=require(\"date-fns/format\")},function(e,t){e.exports=require(\"react-onclickoutside\")},function(e,t){e.exports=require(\"react-icons/lib/fa/sign-in\")},function(e,t){e.exports=require(\"react-icons/lib/fa/sign-out\")},function(e,t){e.exports=require(\"morgan\")},function(e,t){e.exports=require(\"serve-favicon\")},function(e,t){e.exports=require(\"helmet\")},function(e,t){e.exports=require(\"compression\")},function(e,t,a){\"use strict\";a.r(t);var n=a(18),r=a.n(n),o=a(29),i=a.n(o),l=a(45),s=a.n(l),c=a(44),d=a.n(c),u=a(43),p=a.n(u),m=a(42),h=a.n(m),f=a(28),g=a(0),b=a.n(g),E=a(27),C=a(25),y=a(3),v=a(24),w=a(11),x=a(8),I=a(6),D=a(4),T=a.n(D),k=a(1),N=a.n(k),O=a(2),S=a.n(O),A=a(23),_=a.n(A),R=a(9),B=a.n(R),M=a(22),L=a.n(M),q=a(41),P=a.n(q),j=a(40),G=a.n(j),H=a(21),K=a.n(H),X=(a(64),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"render\",function(){var e=a.props.user;return b.a.createElement(\"header\",null,b.a.createElement(I.Link,{to:\"/\",className:\"header-title\"},b.a.createElement(\"img\",{src:K.a,alt:\"React Kanban logo\"}),\" React Kanban\"),b.a.createElement(\"div\",{className:\"header-right-side\"},e?b.a.createElement(\"img\",{src:e.imageUrl,alt:e.name,className:\"user-thumbnail\",title:e.name}):b.a.createElement(L.a,{className:\"guest-icon\"}),e?b.a.createElement(\"a\",{className:\"signout-link\",href:\"/auth/signout\"},b.a.createElement(P.a,{className:\"signout-icon\"}),\" Sign out\"):b.a.createElement(\"a\",{className:\"signout-link\",href:\"/\"},b.a.createElement(G.a,{className:\"signout-icon\"}),\" Sign in\")))}),t||N()(a)}return T()(t,e),t}(g.Component)),F=Object(y.connect)(function(e){return{user:e.user}})(X),U=a(15),z=a.n(U),W=a(39),V=a.n(W),Y=function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"handleClickOutside\",function(){return a.props.handleClickOutside()}),S()(N()(N()(a)),\"render\",function(){return a.props.children}),t||N()(a)}return T()(t,e),t}(g.Component),Z=V()(Y),Q=function(e){function t(){var t;return t=e.call(this)||this,S()(N()(N()(t)),\"toggleOpen\",function(){t.setState({isOpen:!t.state.isOpen})}),S()(N()(N()(t)),\"handleChange\",function(e){t.setState({title:e.target.value})}),S()(N()(N()(t)),\"handleSubmit\",function(e){e.preventDefault();var a=t.state.title;if(\"\"!==a){var n=t.props,r=n.dispatch,o=n.history,i=n.userId,l=z.a.generate();r({type:\"ADD_BOARD\",payload:{boardTitle:a,boardId:l,userId:i}});var s=_()(a,{lower:!0});o.push(\"/b/\"+l+\"/\"+s),t.setState({isOpen:!1,title:\"\"})}}),S()(N()(N()(t)),\"handleKeyDown\",function(e){27===e.keyCode&&t.setState({isOpen:!1})}),S()(N()(N()(t)),\"render\",function(){var e=t.state,a=e.isOpen,n=e.title;return a?b.a.createElement(Z,{handleClickOutside:t.toggleOpen},b.a.createElement(\"form\",{onSubmit:t.handleSubmit,className:\"board-adder\"},b.a.createElement(\"input\",{autoFocus:!0,className:\"submit-board-input\",type:\"text\",value:n,onKeyDown:t.handleKeyDown,onChange:t.handleChange,spellCheck:!1}),b.a.createElement(\"input\",{type:\"submit\",value:\"Create\",className:\"submit-board-button\",disabled:\"\"===n}))):b.a.createElement(\"button\",{onClick:t.toggleOpen,className:\"add-board-button\"},\"Add a new board...\")}),t.state={isOpen:!1,title:\"\"},t}return T()(t,e),t}(g.Component),J=Object(y.connect)(function(e){return{userId:e.user?e.user._id:\"guest\"}})(Q),$=(a(63),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"render\",function(){var e=a.props,t=e.boards,n=e.listsById,r=e.history;return b.a.createElement(b.a.Fragment,null,b.a.createElement(w.Title,null,\"Home | React Kanban\"),b.a.createElement(F,null),b.a.createElement(\"div\",{className:\"home\"},b.a.createElement(\"div\",{className:\"main-content\"},b.a.createElement(\"h1\",null,\"Boards\"),b.a.createElement(\"div\",{className:\"boards\"},t.map(function(e){return b.a.createElement(I.Link,{key:e._id,className:B()(\"board-link\",e.color),to:\"/b/\"+e._id+\"/\"+_()(e.title,{lower:!0})},b.a.createElement(\"div\",{className:\"board-link-title\"},e.title),b.a.createElement(\"div\",{className:\"mini-board\"},e.lists.map(function(e){return b.a.createElement(\"div\",{key:e,className:\"mini-list\",style:{height:Math.min(18*(n[e].cards.length+1),100)+\"%\"}})})))}),b.a.createElement(J,{history:r})))))}),t||N()(a)}return T()(t,e),t}(g.Component)),ee=Object(y.connect)(function(e){var t=e.boardsById,a=e.listsById;return{boards:Object.keys(t).map(function(e){return t[e]}),listsById:a}})($),te=a(14),ae=a.n(te),ne=a(10),re=a.n(ne),oe=a(7),ie=a(13),le=a.n(ie),se=(a(62),function(e){function t(t){var a;return a=e.call(this,t)||this,S()(N()(N()(a)),\"handleChange\",function(e){a.setState({newTitle:e.target.value})}),S()(N()(N()(a)),\"handleKeyDown\",function(e){13===e.keyCode?(e.preventDefault(),a.handleSubmit()):27===e.keyCode&&a.revertTitle()}),S()(N()(N()(a)),\"handleSubmit\",function(){var e=a.state.newTitle,t=a.props,n=t.listTitle,r=t.listId,o=t.dispatch;\"\"!==e&&(e!==n&&o({type:\"CHANGE_LIST_TITLE\",payload:{listTitle:e,listId:r}}),a.setState({isOpen:!1}))}),S()(N()(N()(a)),\"revertTitle\",function(){a.setState({newTitle:a.props.listTitle,isOpen:!1})}),S()(N()(N()(a)),\"deleteList\",function(){var e=a.props,t=e.listId,n=e.cards,r=e.boardId;(0,e.dispatch)({type:\"DELETE_LIST\",payload:{cards:n,listId:t,boardId:r}})}),S()(N()(N()(a)),\"openTitleEditor\",function(){a.setState({isOpen:!0})}),S()(N()(N()(a)),\"handleButtonKeyDown\",function(e){13===e.keyCode&&(e.preventDefault(),a.openTitleEditor())}),a.state={isOpen:!1,newTitle:t.listTitle},a}return T()(t,e),t.prototype.render=function(){var e=this,t=this.state,a=t.isOpen,n=t.newTitle,r=this.props,o=r.dragHandleProps,i=r.listTitle;return b.a.createElement(\"div\",{className:\"list-header\"},a?b.a.createElement(\"div\",{className:\"list-title-textarea-wrapper\"},b.a.createElement(re.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:n,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:\"list-title-textarea\",onBlur:this.handleSubmit,spellCheck:!1})):b.a.createElement(\"div\",ae()({},o,{role:\"button\",tabIndex:0,onClick:this.openTitleEditor,onKeyDown:function(t){e.handleButtonKeyDown(t),o.onKeyDown(t)},className:\"list-title-button\"}),i),b.a.createElement(oe.Wrapper,{className:\"delete-list-wrapper\",onSelection:this.deleteList},b.a.createElement(oe.Button,{className:\"delete-list-button\"},b.a.createElement(le.a,null)),b.a.createElement(oe.Menu,{className:\"delete-list-menu\"},b.a.createElement(\"div\",{className:\"delete-list-header\"},\"Are you sure?\"),b.a.createElement(oe.MenuItem,{className:\"delete-list-confirm\"},\"Delete\"))))},t}(g.Component)),ce=Object(y.connect)()(se),de=a(5),ue=a.n(de),pe=a(16),me=a.n(pe),he=a(38),fe=a.n(he),ge=a(37),be=a.n(ge),Ee=a(20),Ce=a.n(Ee),ye=a(36),ve=a.n(ye),we=(a(61),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"renderDueDate\",function(){var e=a.props.date;if(!e)return null;var t,n,r=be()(e,new Date);return t=r<-1?Math.abs(r)+\" days ago\":-1===r?\"Yesterday\":0===r?\"Today\":1===r?\"Tomorrow\":fe()(e,\"D MMM\"),n=r<0?\"red\":0===r?\"#d60\":\"green\",b.a.createElement(\"div\",{className:\"badge\",style:{background:n}},b.a.createElement(Ce.a,{className:\"badge-icon\"}),\" \",t)}),S()(N()(N()(a)),\"renderTaskProgress\",function(){var e=a.props.checkboxes,t=e.total,n=e.checked;return 0===t?null:b.a.createElement(\"div\",{className:\"badge\",style:{background:n===t?\"green\":\"#444\"}},b.a.createElement(ve.a,{className:\"badge-icon\"}),\" \",n,\"/\",t)}),t||N()(a)}return T()(t,e),t.prototype.render=function(){return b.a.createElement(\"div\",{className:\"card-badges\"},this.renderDueDate(),this.renderTaskProgress())},t}(g.Component)),xe=a(35),Ie=a.n(xe),De=(a(60),function(e){function t(t){var a;return a=e.call(this,t)||this,S()(N()(N()(a)),\"handleDayClick\",function(e,t){var n=t.selected;t.disabled||(n?a.setState({selectedDay:void 0}):a.setState({selectedDay:e}))}),S()(N()(N()(a)),\"handleSave\",function(){var e=a.state.selectedDay,t=a.props,n=t.dispatch,r=t.cardId,o=t.toggleCalendar;n({type:\"CHANGE_CARD_DATE\",payload:{date:e,cardId:r}}),o()}),a.state={selectedDay:t.date?new Date(t.date):void 0},a}return T()(t,e),t.prototype.render=function(){var e=this.state.selectedDay,t=this.props.toggleCalendar;return b.a.createElement(\"div\",{className:\"calendar\"},b.a.createElement(Ie.a,{onDayClick:this.handleDayClick,selectedDays:e,disabledDays:{before:new Date}}),b.a.createElement(\"div\",{className:\"calendar-buttons\"},b.a.createElement(\"button\",{onClick:this.handleSave,className:\"calendar-save-button\"},\"Save\"),b.a.createElement(\"button\",{onClick:t},\"Cancel\")))},t}(g.Component)),Te=Object(y.connect)()(De),ke=a(19),Ne=a.n(ke),Oe=(a(59),function(e){function t(){var t;return t=e.call(this)||this,S()(N()(N()(t)),\"deleteCard\",function(){var e=t.props,a=e.dispatch,n=e.listId;a({type:\"DELETE_CARD\",payload:{cardId:e.card._id,listId:n}})}),S()(N()(N()(t)),\"changeColor\",function(e){var a=t.props,n=a.dispatch,r=a.card,o=a.toggleColorPicker;r.color!==e&&n({type:\"CHANGE_CARD_COLOR\",payload:{color:e,cardId:r._id}}),o(),t.colorPickerButton.focus()}),S()(N()(N()(t)),\"handleKeyDown\",function(e){27===e.keyCode&&(t.props.toggleColorPicker(),t.colorPickerButton.focus())}),S()(N()(N()(t)),\"handleClickOutside\",function(){(0,t.props.toggleColorPicker)(),t.colorPickerButton.focus()}),S()(N()(N()(t)),\"toggleCalendar\",function(){t.setState({isCalendarOpen:!t.state.isCalendarOpen})}),t.state={isCalendarOpen:!1},t}return T()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.isCardNearRightBorder,n=t.isColorPickerOpen,r=t.toggleColorPicker,o=t.card,i=t.isThinDisplay,l=t.boundingRect,s=this.state.isCalendarOpen,c={content:{top:Math.min(l.bottom+10,window.innerHeight-300),left:l.left}};return b.a.createElement(\"div\",{className:\"options-list\",style:{alignItems:a?\"flex-end\":\"flex-start\"}},b.a.createElement(\"div\",null,b.a.createElement(\"button\",{onClick:this.deleteCard,className:\"options-list-button\"},b.a.createElement(\"div\",{className:\"modal-icon\"},b.a.createElement(le.a,null)),\" Delete\")),b.a.createElement(\"div\",{className:\"modal-color-picker-wrapper\"},b.a.createElement(\"button\",{className:\"options-list-button\",onClick:r,onKeyDown:this.handleKeyDown,ref:function(t){e.colorPickerButton=t},\"aria-haspopup\":!0,\"aria-expanded\":n},b.a.createElement(\"img\",{src:Ne.a,alt:\"colorwheel\",className:\"modal-icon\"}),\" Color\"),n&&b.a.createElement(Z,{eventTypes:\"click\",handleClickOutside:this.handleClickOutside},b.a.createElement(\"div\",{className:\"modal-color-picker\",onKeyDown:this.handleKeyDown},[\"white\",\"#6df\",\"#6f6\",\"#ff6\",\"#fa4\",\"#f66\"].map(function(t){return b.a.createElement(\"button\",{key:t,style:{background:t},className:\"color-picker-color\",onClick:function(){return e.changeColor(t)}})})))),b.a.createElement(\"div\",null,b.a.createElement(\"button\",{onClick:this.toggleCalendar,className:\"options-list-button\"},b.a.createElement(\"div\",{className:\"modal-icon\"},b.a.createElement(Ce.a,null)),\" Due date\")),b.a.createElement(me.a,{isOpen:s,onRequestClose:this.toggleCalendar,overlayClassName:\"calendar-underlay\",className:\"calendar-modal\",style:i?{content:{top:110,left:\"50%\",transform:\"translateX(-50%)\"}}:c},b.a.createElement(Te,{cardId:o._id,date:o.date,toggleCalendar:this.toggleCalendar})))},t}(g.Component)),Se=Object(y.connect)()(Oe),Ae=function(e){var t=e.match(/\\[(\\s|x)\\]/g)||[],a=t.filter(function(e){return\"[x]\"===e}).length;return{total:t.length,checked:a}},_e=(a(58),function(e){function t(t){var a;return a=e.call(this,t)||this,S()(N()(N()(a)),\"componentWillReceiveProps\",function(e){a.setState({newText:e.card.text})}),S()(N()(N()(a)),\"handleKeyDown\",function(e){13===e.keyCode&&!1===e.shiftKey&&(e.preventDefault(),a.submitCard())}),S()(N()(N()(a)),\"submitCard\",function(){var e=a.state.newText,t=a.props,n=t.card,r=t.listId,o=t.dispatch,i=t.toggleCardEditor;\"\"===e?a.deleteCard():e!==n.text&&o({type:\"CHANGE_CARD_TEXT\",payload:{cardText:e,cardId:n._id,listId:r}}),i()}),S()(N()(N()(a)),\"handleChange\",function(e){a.setState({newText:e.target.value})}),S()(N()(N()(a)),\"toggleColorPicker\",function(){a.setState({isColorPickerOpen:!a.state.isColorPickerOpen})}),S()(N()(N()(a)),\"handleRequestClose\",function(){var e=a.state.isColorPickerOpen,t=a.props.toggleCardEditor;e||t()}),a.state={newText:t.card.text,isColorPickerOpen:!1,isTextareaFocused:!0},\"undefined\"!=typeof document&&me.a.setAppElement(\"#app\"),a}return T()(t,e),t.prototype.render=function(){var e=this,t=this.state,a=t.newText,n=t.isColorPickerOpen,r=t.isTextareaFocused,o=this.props,i=o.cardElement,l=o.card,s=o.listId,c=o.isOpen;if(!i)return null;var d=Ae(a),u=i.getBoundingClientRect(),p=window.innerWidth-u.right<u.left,m=window.innerWidth<550,h={content:{top:Math.min(u.top,window.innerHeight-u.height-18),left:p?null:u.left,right:p?window.innerWidth-u.right:null,flexDirection:p?\"row-reverse\":\"row\"}};return b.a.createElement(me.a,{closeTimeoutMS:150,isOpen:c,onRequestClose:this.handleRequestClose,contentLabel:\"Card editor\",overlayClassName:\"modal-underlay\",className:\"modal\",style:m?{content:{flexDirection:\"column\",top:3,left:3,right:3}}:h,includeDefaultStyles:!1,onClick:this.handleRequestClose},b.a.createElement(\"div\",{className:\"modal-textarea-wrapper\",style:{minHeight:m?\"none\":u.height,width:m?\"100%\":u.width,boxShadow:r?\"0px 0px 3px 2px rgb(0, 180, 255)\":null,background:l.color}},b.a.createElement(re.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:a,onChange:this.handleChange,onKeyDown:this.handleKeyDown,className:\"modal-textarea\",spellCheck:!1,onFocus:function(){return e.setState({isTextareaFocused:!0})},onBlur:function(){return e.setState({isTextareaFocused:!1})}}),(l.date||d.total>0)&&b.a.createElement(we,{date:l.date,checkboxes:d})),b.a.createElement(Se,{isColorPickerOpen:n,card:l,listId:s,boundingRect:u,isCardNearRightBorder:p,isThinDisplay:m,toggleColorPicker:this.toggleColorPicker}))},t}(g.Component)),Re=Object(y.connect)()(_e),Be=a(34),Me=a.n(Be),Le=function(e){var t=0;return Me()(e,{sanitize:!0,gfm:!0,breaks:!0}).replace(/<a/g,'<a target=\"_blank\"').replace(/\\[(\\s|x)\\]/g,function(e){var a;return a=\"[ ]\"===e?\"<input id=\"+t+' onclick=\"return false\" type=\"checkbox\">':\"<input id=\"+t+' checked onclick=\"return false\" type=\"checkbox\">',t+=1,a})},qe=(a(57),function(e){function t(){var t;return t=e.call(this)||this,S()(N()(N()(t)),\"toggleCardEditor\",function(){t.setState({isModalOpen:!t.state.isModalOpen})}),S()(N()(N()(t)),\"handleClick\",function(e){var a=e.target,n=a.tagName,r=a.checked,o=a.id;\"input\"===n.toLowerCase()?t.toggleCheckbox(r,parseInt(o,10)):\"a\"!==n.toLowerCase()&&t.toggleCardEditor(e)}),S()(N()(N()(t)),\"handleKeyDown\",function(e){13===e.keyCode&&\"a\"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),t.toggleCardEditor())}),S()(N()(N()(t)),\"toggleCheckbox\",function(e,a){var n=t.props,r=n.card,o=n.dispatch,i=0,l=r.text.replace(/\\[(\\s|x)\\]/g,function(t){var n;return n=a===i?e?\"[x]\":\"[ ]\":t,i+=1,n});o({type:\"CHANGE_CARD_TEXT\",payload:{cardId:r._id,cardText:l}})}),t.state={isModalOpen:!1},t}return T()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.card,n=t.index,r=t.listId,o=t.isDraggingOver,i=this.state.isModalOpen,l=Ae(a.text);return b.a.createElement(b.a.Fragment,null,b.a.createElement(x.Draggable,{draggableId:a._id,index:n},function(t,n){return b.a.createElement(b.a.Fragment,null,b.a.createElement(\"div\",ae()({className:B()(\"card-title\",{\"card-title--drag\":n.isDragging}),ref:function(a){t.innerRef(a),e.ref=a}},t.draggableProps,t.dragHandleProps,{onClick:function(a){t.dragHandleProps.onClick(a),e.handleClick(a)},onKeyDown:function(a){t.dragHandleProps.onKeyDown(a),e.handleKeyDown(a)},style:ue()({},t.draggableProps.style,{background:a.color})}),b.a.createElement(\"div\",{className:\"card-title-html\",dangerouslySetInnerHTML:{__html:Le(a.text)}}),(a.date||l.total>0)&&b.a.createElement(we,{date:a.date,checkboxes:l})),o&&t.placeholder)}),b.a.createElement(Re,{isOpen:i,cardElement:this.ref,card:a,listId:r,toggleCardEditor:this.toggleCardEditor}))},t}(g.Component)),Pe=Object(y.connect)(function(e,t){return{card:e.cardsById[t.cardId]}})(qe),je=function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"componentDidUpdate\",function(e){a.props.cards[a.props.cards.length-2]===e.cards[e.cards.length-1]&&a.scrollToBottom()}),S()(N()(N()(a)),\"scrollToBottom\",function(){a.listEnd.scrollIntoView()}),t||N()(a)}return T()(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.listId,n=t.cards;return b.a.createElement(x.Droppable,{droppableId:a},function(t,r){var o=r.isDraggingOver;return b.a.createElement(b.a.Fragment,null,b.a.createElement(\"div\",{className:\"cards\",ref:t.innerRef},n.map(function(e,t){return b.a.createElement(Pe,{isDraggingOver:o,key:e,cardId:e,index:t,listId:a})}),t.placeholder,b.a.createElement(\"div\",{style:{float:\"left\",clear:\"both\"},ref:function(t){e.listEnd=t}})))})},t}(g.Component),Ge=Object(y.connect)(function(e,t){return{cards:e.listsById[t.listId].cards}})(je),He=(a(56),function(e){function t(){var t;return t=e.call(this)||this,S()(N()(N()(t)),\"toggleCardComposer\",function(){t.setState({isOpen:!t.state.isOpen})}),S()(N()(N()(t)),\"handleChange\",function(e){t.setState({newText:e.target.value})}),S()(N()(N()(t)),\"handleKeyDown\",function(e){13===e.keyCode&&!1===e.shiftKey?t.handleSubmit(e):27===e.keyCode&&t.toggleCardComposer()}),S()(N()(N()(t)),\"handleSubmit\",function(e){e.preventDefault();var a=t.state.newText,n=t.props,r=n.listId,o=n.dispatch;\"\"!==a&&(o({type:\"ADD_CARD\",payload:{cardText:a,cardId:z.a.generate(),listId:r}}),t.toggleCardComposer(),t.setState({newText:\"\"}))}),t.state={newText:\"\",isOpen:!1},t}return T()(t,e),t.prototype.render=function(){var e=this.state,t=e.newText;return e.isOpen?b.a.createElement(Z,{handleClickOutside:this.toggleCardComposer},b.a.createElement(\"form\",{onSubmit:this.handleSubmit,className:\"card-adder-textarea-wrapper\"},b.a.createElement(re.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,minRows:1,onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:t,className:\"card-adder-textarea\",placeholder:\"Add a new card...\",spellCheck:!1,onBlur:this.toggleCardComposer}))):b.a.createElement(\"button\",{onClick:this.toggleCardComposer,className:\"add-card-button\"},\"+\")},t}(g.Component)),Ke=Object(y.connect)()(He),Xe=(a(55),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"render\",function(){var e=a.props,t=e.list,n=e.boardId,r=e.index;return b.a.createElement(x.Draggable,{draggableId:t._id,index:r,disableInteractiveElementBlocking:!0},function(e,a){return b.a.createElement(b.a.Fragment,null,b.a.createElement(\"div\",ae()({ref:e.innerRef},e.draggableProps,{className:\"list-wrapper\"}),b.a.createElement(\"div\",{className:B()(\"list\",{\"list--drag\":a.isDragging})},b.a.createElement(ce,{dragHandleProps:e.dragHandleProps,listTitle:t.title,listId:t._id,cards:t.cards,boardId:n}),b.a.createElement(\"div\",{className:\"cards-wrapper\"},b.a.createElement(Ge,{listId:t._id}))),b.a.createElement(Ke,{listId:t._id})),e.placeholder)})}),t||N()(a)}return T()(t,e),t}(g.Component)),Fe=Object(y.connect)()(Xe),Ue=(a(54),function(e){function t(){var t;return t=e.call(this)||this,S()(N()(N()(t)),\"handleBlur\",function(){t.setState({isOpen:!1})}),S()(N()(N()(t)),\"handleChange\",function(e){t.setState({listTitle:e.target.value})}),S()(N()(N()(t)),\"handleKeyDown\",function(e){13===e.keyCode?(e.preventDefault(),t.handleSubmit()):27===e.keyCode&&t.setState({isOpen:!1,listTitle:\"\"})}),S()(N()(N()(t)),\"handleSubmit\",function(){var e=t.props,a=e.dispatch,n=e.boardId,r=t.state.listTitle,o=z.a.generate();\"\"!==r&&(a({type:\"ADD_LIST\",payload:{listTitle:r,listId:o,boardId:n}}),t.setState({isOpen:!1,listTitle:\"\"}))}),S()(N()(N()(t)),\"render\",function(){var e=t.state,a=e.isOpen,n=e.listTitle;return a?b.a.createElement(\"div\",{className:\"list\"},b.a.createElement(re.a,{autoFocus:!0,useCacheForDOMMeasurements:!0,value:n,onChange:t.handleChange,onKeyDown:t.handleKeyDown,className:\"list-adder-textarea\",onBlur:t.handleBlur,spellCheck:!1})):b.a.createElement(\"button\",{onClick:function(){return t.setState({isOpen:!0})},className:\"add-list-button\"},\"Add a new list...\")}),t.state={isOpen:!1,listTitle:\"\"},t}return T()(t,e),t}(g.Component)),ze=Object(y.connect)()(Ue),We=(a(53),function(e){function t(t){var a;return a=e.call(this,t)||this,S()(N()(N()(a)),\"handleClick\",function(){a.setState({isOpen:!0})}),S()(N()(N()(a)),\"handleChange\",function(e){a.setState({newTitle:e.target.value})}),S()(N()(N()(a)),\"submitTitle\",function(){var e=a.props,t=e.dispatch,n=e.boardId,r=e.boardTitle,o=a.state.newTitle;\"\"!==o&&(r!==o&&t({type:\"CHANGE_BOARD_TITLE\",payload:{boardTitle:o,boardId:n}}),a.setState({isOpen:!1}))}),S()(N()(N()(a)),\"revertTitle\",function(){var e=a.props.boardTitle;a.setState({newTitle:e,isOpen:!1})}),S()(N()(N()(a)),\"handleKeyDown\",function(e){13===e.keyCode?a.submitTitle():27===e.keyCode&&a.revertTitle()}),S()(N()(N()(a)),\"handleFocus\",function(e){e.target.select()}),a.state={isOpen:!1,newTitle:t.boardTitle},a}return T()(t,e),t.prototype.render=function(){var e=this.state,t=e.isOpen,a=e.newTitle,n=this.props.boardTitle;return t?b.a.createElement(\"input\",{autoFocus:!0,value:a,type:\"text\",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.revertTitle,onFocus:this.handleFocus,className:\"board-title-input\",spellCheck:!1}):b.a.createElement(\"button\",{className:\"board-title-button\",onClick:this.handleClick},b.a.createElement(\"h1\",{className:\"board-title-text\"},n))},t}(g.Component)),Ve=Object(I.withRouter)(Object(y.connect)(function(e,t){var a=t.match.params.boardId;return{boardTitle:e.boardsById[a].title,boardId:a}})(We)),Ye=a(33),Ze=a.n(Ye),Qe=(a(52),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"handleSelection\",function(e){var t=a.props,n=t.dispatch,r=t.boardId;e!==t.boardColor&&n({type:\"CHANGE_BOARD_COLOR\",payload:{boardId:r,color:e}})}),t||N()(a)}return T()(t,e),t.prototype.render=function(){var e=this.props.boardColor;return b.a.createElement(oe.Wrapper,{className:\"color-picker-wrapper\",onSelection:this.handleSelection},b.a.createElement(oe.Button,{className:\"color-picker\"},b.a.createElement(\"img\",{src:Ne.a,alt:\"colorwheel\",className:\"modal-icon\"}),b.a.createElement(\"div\",{className:\"board-header-right-text\"},\" Color  ▾\")),b.a.createElement(oe.Menu,{className:\"color-picker-menu\"},[\"blue\",\"green\",\"red\",\"pink\"].map(function(t){return b.a.createElement(oe.MenuItem,{value:t,className:B()(\"color-picker-item\",t),key:t},t===e&&b.a.createElement(Ze.a,null))})))},t}(g.Component)),Je=Object(I.withRouter)(Object(y.connect)(function(e,t){var a=t.match.params.boardId;return{boardColor:e.boardsById[a].color,boardId:a}})(Qe)),$e=(a(51),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"handleSelection\",function(){var e=a.props,t=e.dispatch,n=e.match,r=e.history;t({type:\"DELETE_BOARD\",payload:{boardId:n.params.boardId}}),r.push(\"/\")}),S()(N()(N()(a)),\"render\",function(){return b.a.createElement(oe.Wrapper,{className:\"board-deleter-wrapper\",onSelection:a.handleSelection},b.a.createElement(oe.Button,{className:\"board-deleter-button\"},b.a.createElement(\"div\",{className:\"modal-icon\"},b.a.createElement(le.a,null)),b.a.createElement(\"div\",{className:\"board-header-right-text\"},\" Delete board\")),b.a.createElement(oe.Menu,{className:\"board-deleter-menu\"},b.a.createElement(\"div\",{className:\"board-deleter-header\"},\"Are you sure?\"),b.a.createElement(oe.MenuItem,{className:\"board-deleter-confirm\"},\"Delete\")))}),t||N()(a)}return T()(t,e),t}(g.Component)),et=Object(I.withRouter)(Object(y.connect)()($e)),tt=(a(50),function(){return b.a.createElement(\"div\",{className:\"board-header\"},b.a.createElement(Ve,null),b.a.createElement(\"div\",{className:\"board-header-right\"},b.a.createElement(Je,null),b.a.createElement(\"div\",{className:\"vertical-line\"}),b.a.createElement(et,null)))}),at=(a(49),function(e){function t(t){var a;return a=e.call(this,t)||this,S()(N()(N()(a)),\"componentDidMount\",function(){var e=a.props,t=e.boardId;(0,e.dispatch)({type:\"PUT_BOARD_ID_IN_REDUX\",payload:{boardId:t}})}),S()(N()(N()(a)),\"handleDragEnd\",function(e){var t=e.source,n=e.destination,r=e.type;if(n){var o=a.props,i=o.dispatch,l=o.boardId;\"COLUMN\"!==r?t.index===n.index&&t.droppableId===n.droppableId||i({type:\"MOVE_CARD\",payload:{sourceListId:t.droppableId,destListId:n.droppableId,oldCardIndex:t.index,newCardIndex:n.index,boardId:l}}):t.index!==n.index&&i({type:\"MOVE_LIST\",payload:{oldListIndex:t.index,newListIndex:n.index,boardId:t.droppableId}})}}),S()(N()(N()(a)),\"handleMouseDown\",function(e){var t=e.target,n=e.clientX;\"list-wrapper\"!==t.className&&\"lists\"!==t.className||(window.addEventListener(\"mousemove\",a.handleMouseMove),window.addEventListener(\"mouseup\",a.handleMouseUp),a.setState({startX:n,startScrollX:window.scrollX}))}),S()(N()(N()(a)),\"handleMouseMove\",function(e){var t=e.clientX,n=a.state,r=n.startX,o=n.startScrollX,i=o-t+r;window.scrollTo(i,0);var l=window.scrollX;i!==l&&a.setState({startX:t+l-o})}),S()(N()(N()(a)),\"handleMouseUp\",function(){a.state.startX&&(window.removeEventListener(\"mousemove\",a.handleMouseMove),window.removeEventListener(\"mouseup\",a.handleMouseUp),a.setState({startX:null,startScrollX:null}))}),S()(N()(N()(a)),\"handleWheel\",function(e){var t=e.target,a=e.deltaY;\"list-wrapper\"!==t.className&&\"lists\"!==t.className&&\"open-composer-button\"!==t.className&&\"list-title-button\"!==t.className||(1===Math.sign(a)?window.scrollTo(window.scrollX+80,0):-1===Math.sign(a)&&window.scrollTo(window.scrollX-80,0))}),S()(N()(N()(a)),\"render\",function(){var e=a.props,t=e.lists,n=e.boardTitle,r=e.boardId,o=e.boardColor;return b.a.createElement(b.a.Fragment,null,b.a.createElement(\"div\",{className:B()(\"board\",o)},b.a.createElement(w.Title,null,n,\" | React Kanban\"),b.a.createElement(F,null),b.a.createElement(tt,null),b.a.createElement(\"div\",{className:\"lists-wrapper\",onMouseDown:a.handleMouseDown,onWheel:a.handleWheel},b.a.createElement(x.DragDropContext,{onDragEnd:a.handleDragEnd},b.a.createElement(x.Droppable,{droppableId:r,type:\"COLUMN\",direction:\"horizontal\"},function(e){return b.a.createElement(\"div\",{className:\"lists\",ref:e.innerRef},t.map(function(e,t){return b.a.createElement(Fe,{list:e,boardId:r,index:t,key:e._id})}),e.placeholder,b.a.createElement(ze,{boardId:r}))}))),b.a.createElement(\"div\",{className:\"board-underlay\"})))}),a.state={startX:null,startScrollX:null},a}return T()(t,e),t}(g.Component)),nt=Object(y.connect)(function(e,t){var a=t.board;return{lists:a.lists.map(function(t){return e.listsById[t]}),boardTitle:a.title,boardColor:a.color,boardId:a._id}})(at),rt=Object(y.connect)(function(e,t){var a=t.match.params.boardId;return{board:e.boardsById[a]}})(function(e){return e.board?b.a.createElement(nt,{board:e.board}):b.a.createElement(v.Redirect,{to:\"/\"})}),ot=a(32),it=a.n(ot),lt=a(31),st=a.n(lt),ct=a(26),dt=a.n(ct),ut=a(30),pt=a.n(ut),mt=(a(48),function(e){function t(){for(var t,a,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a=e.call.apply(e,[this].concat(r))||this,S()(N()(N()(a)),\"enterAsGuest\",function(){a.props.dispatch({type:\"ENTER_AS_GUEST\"})}),S()(N()(N()(a)),\"render\",function(){return b.a.createElement(\"div\",{className:\"landing-page\"},b.a.createElement(w.Title,null,\"Sign in | React Kanban\"),b.a.createElement(\"div\",{className:\"landing-page-background\"},b.a.createElement(\"img\",{srcSet:dt.a+\" 1920w, \"+pt.a+\" 1366w\",src:dt.a,alt:\"background\"})),b.a.createElement(\"div\",{className:\"landing-page-info-wrapper\"},b.a.createElement(\"div\",{className:\"landing-page-info\"},b.a.createElement(\"div\",{className:\"landing-page-heading\"},b.a.createElement(\"img\",{src:K.a,alt:\"React Kanban logo\",className:\"landing-page-logo\"}),\" \",b.a.createElement(\"h1\",null,\"React Kanban\")),b.a.createElement(\"p\",{className:\"landing-page-description\"},\"An open source kanban application inspired by Trello. Check out the source code on\",\" \",b.a.createElement(\"a\",{href:\"https://github.com/yogaboll/react-kanban\",target:\"_blank\",rel:\"noopener noreferrer\"},\"GitHub\"),\".\"),b.a.createElement(\"div\",{className:\"signin-buttons\"},b.a.createElement(\"div\",null,b.a.createElement(\"a\",{href:\"/auth/twitter\",className:\"signin-button twitter-button\"},b.a.createElement(it.a,{className:\"logo-icon\"}),\"  Sign in with Twitter\")),b.a.createElement(\"div\",null,b.a.createElement(\"a\",{href:\"/auth/google\",className:\"signin-button google-button\"},b.a.createElement(\"img\",{className:\"google-logo\",src:st.a,alt:\"google logo\"}),\" Sign in with Google\")),b.a.createElement(\"div\",{className:\"guest-button-wrapper\"},b.a.createElement(\"button\",{onClick:a.enterAsGuest,className:\"signin-button guest-button\"},b.a.createElement(L.a,{className:\"logo-icon\"}),\"  Enter as guest\"))))))}),t||N()(a)}return T()(t,e),t}(g.Component)),ht=Object(y.connect)()(mt),ft=(a(47),Object(I.withRouter)(Object(y.connect)(function(e){return{user:e.user,isGuest:e.isGuest}})(function(e){var t=e.user,a=e.isGuest;return t||a?b.a.createElement(I.Switch,null,b.a.createElement(I.Route,{exact:!0,path:\"/\",component:ee}),b.a.createElement(I.Route,{path:\"/b/:boardId\",component:rt}),b.a.createElement(I.Redirect,{to:\"/\"})):b.a.createElement(I.Switch,null,b.a.createElement(I.Route,{exact:!0,path:\"/\",component:ht}),b.a.createElement(I.Redirect,{to:\"/\"}))}))),gt=a(12),bt=a.n(gt),Et=function(e,t){switch(void 0===e&&(e={}),t.type){case\"ADD_CARD\":var a,n=t.payload,r=n.cardText,o=n.cardId;return ue()({},e,((a={})[o]={text:r,_id:o},a));case\"CHANGE_CARD_TEXT\":var i,l=t.payload,s=l.cardText,c=l.cardId;return ue()({},e,((i={})[c]=ue()({},e[c],{text:s}),i));case\"CHANGE_CARD_DATE\":var d,u=t.payload,p=u.date,m=u.cardId;return ue()({},e,((d={})[m]=ue()({},e[m],{date:p}),d));case\"CHANGE_CARD_COLOR\":var h,f=t.payload,g=f.color,b=f.cardId;return ue()({},e,((h={})[b]=ue()({},e[b],{color:g}),h));case\"DELETE_CARD\":var E=t.payload.cardId,C=e;return C[E],bt()(C,[E]);case\"DELETE_LIST\":var y=t.payload.cards;return Object.keys(e).filter(function(e){return!y.includes(e)}).reduce(function(t,a){var n;return ue()({},t,((n={})[a]=e[a],n))},{});default:return e}},Ct=function(e,t){switch(void 0===e&&(e={}),t.type){case\"ADD_CARD\":var a,n=t.payload,r=n.listId,o=n.cardId;return ue()({},e,((a={})[r]=ue()({},e[r],{cards:e[r].cards.concat([o])}),a));case\"MOVE_CARD\":var i,l=t.payload,s=l.oldCardIndex,c=l.newCardIndex,d=l.sourceListId,u=l.destListId;if(d===u){var p,m=Array.from(e[d].cards),h=m.splice(s,1)[0];return m.splice(c,0,h),ue()({},e,((p={})[d]=ue()({},e[d],{cards:m}),p))}var f=Array.from(e[d].cards),g=f.splice(s,1)[0],b=Array.from(e[u].cards);return b.splice(c,0,g),ue()({},e,((i={})[d]=ue()({},e[d],{cards:f}),i[u]=ue()({},e[u],{cards:b}),i));case\"DELETE_CARD\":var E,C=t.payload,y=C.cardId,v=C.listId;return ue()({},e,((E={})[v]=ue()({},e[v],{cards:e[v].cards.filter(function(e){return e!==y})}),E));case\"ADD_LIST\":var w,x=t.payload,I=x.listId,D=x.listTitle;return ue()({},e,((w={})[I]={_id:I,title:D,cards:[]},w));case\"CHANGE_LIST_TITLE\":var T,k=t.payload,N=k.listId,O=k.listTitle;return ue()({},e,((T={})[N]=ue()({},e[N],{title:O}),T));case\"DELETE_LIST\":var S=t.payload.listId,A=e;return A[S],bt()(A,[S]);default:return e}},yt=function(e,t){switch(void 0===e&&(e={}),t.type){case\"ADD_LIST\":var a,n=t.payload,r=n.boardId,o=n.listId;return ue()({},e,((a={})[r]=ue()({},e[r],{lists:e[r].lists.concat([o])}),a));case\"MOVE_LIST\":var i,l=t.payload,s=l.oldListIndex,c=l.newListIndex,d=l.boardId,u=Array.from(e[d].lists),p=u.splice(s,1)[0];return u.splice(c,0,p),ue()({},e,((i={})[d]=ue()({},e[d],{lists:u}),i));case\"DELETE_LIST\":var m,h=t.payload,f=h.listId,g=h.boardId;return ue()({},e,((m={})[g]=ue()({},e[g],{lists:e[g].lists.filter(function(e){return e!==f})}),m));case\"ADD_BOARD\":var b,E=t.payload,C=E.boardTitle,y=E.boardId,v=E.userId;return ue()({},e,((b={})[y]={_id:y,title:C,lists:[],users:[v],color:\"blue\"},b));case\"CHANGE_BOARD_TITLE\":var w,x=t.payload,I=x.boardTitle,D=x.boardId;return ue()({},e,((w={})[D]=ue()({},e[D],{title:I}),w));case\"CHANGE_BOARD_COLOR\":var T,k=t.payload,N=k.boardId,O=k.color;return ue()({},e,((T={})[N]=ue()({},e[N],{color:O}),T));case\"DELETE_BOARD\":var S=t.payload.boardId,A=e;return A[S],bt()(A,[S]);default:return e}},vt=function(e,t){return void 0===e&&(e=null),t.type,e},wt=function(e,t){switch(void 0===e&&(e=!1),t.type){case\"ENTER_AS_GUEST\":return!0;default:return e}},xt=function(e,t){switch(void 0===e&&(e=null),t.type){case\"PUT_BOARD_ID_IN_REDUX\":case\"ADD_BOARD\":return t.payload.boardId;default:return e}},It=Object(C.combineReducers)({cardsById:Et,listsById:Ct,boardsById:yt,user:vt,isGuest:wt,currentBoardId:xt}),Dt=JSON.parse(Object(f.readFileSync)(\"./dist/public/manifest.json\",\"utf8\")),Tt=Object(f.readFileSync)(\"./dist/public/main.css\",\"utf8\"),kt=function(e,t){var a=Object(C.createStore)(It,e.initialState),n=[];Object(x.resetContext)();var r=Object(E.renderToString)(b.a.createElement(w.HeadCollector,{headTags:n},b.a.createElement(y.Provider,{store:a},b.a.createElement(v.StaticRouter,{location:e.url,context:{}},b.a.createElement(ft,null))))),o=a.getState(),i='\\n    <!DOCTYPE html>\\n    <html>\\n      <head>\\n        <meta charset=\"UTF-8\">\\n        <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\">\\n        <style>'+Tt+\"</style>\\n        \"+Object(E.renderToString)(n)+'\\n      </head>\\n      <body>\\n        <div id=\"app\">'+r+\"</div>\\n      </body>\\n      <script>\\n        window.PRELOADED_STATE = \"+JSON.stringify(o)+\"\\n      <\\/script>\\n      <script src=\"+Dt[\"main.js\"]+\"><\\/script>\\n    </html>\\n  \";t.send(i)},Nt=a(17),Ot=function(e){var t=new Nt.schema.Entity(\"cardsById\",{},{idAttribute:\"_id\"}),a=new Nt.schema.Entity(\"listsById\",{cards:[t]},{idAttribute:\"_id\"}),n=new Nt.schema.Entity(\"boardsById\",{lists:[a]},{idAttribute:\"_id\"});return Object(Nt.normalize)(e,[n]).entities},St=function(e){return function(t,a,n){t.user?e.collection(\"boards\").find({$or:[{users:t.user._id},{isPublic:!0}]}).toArray().then(function(e){t.initialState=ue()({},Ot(e),{user:t.user}),n()}):(t.initialState=Ot({}),n())}},At=r()();At.use(d()()),At.use(h()(\"tiny\")),At.use(s()()),At.use(p()(\"dist/public/favicons/favicon.ico\")),At.use(r.a.json()),At.use(r.a.urlencoded({extended:!0})),At.use(\"/static\",r.a.static(\"dist/public\",{maxAge:\"1y\"})),At.use(i.a.initialize()),At.use(i.a.session()),At.use(St()),At.get(\"*\",kt);var _t=process.env.PORT||\"1337\";At.listen(_t,function(){return console.log(\"Server listening on port \"+_t)})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);","extractedComments":[]}